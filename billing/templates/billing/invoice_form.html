{% extends 'base.html' %}
{% load static %}
{% block content %}
<h2>Create Invoice</h2>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    
    <h3>Invoice Items</h3>
    {{ formset.management_form }}
    <table border="1" cellpadding="5" cellspacing="0" style="width:100%;">
        <thead>
            <tr>
                {% for field in formset.forms.0.visible_fields %}
                    <th>{{ field.label }}</th>
                {% endfor %}
                <th>Delete?</th>
            </tr>
        </thead>
        <tbody>
            {% for form in formset.forms %}
            <tr>
                {% for field in form.visible_fields %}
                <td>
                    {{ field.errors }}
                    {{ field }}
                </td>
                {% endfor %}
                <td>{{ form.DELETE }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <button type="submit">Save Invoice</button>
</form>
{% endblock %}
